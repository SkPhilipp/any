#!/usr/bin/env bash

set -e
set -o pipefail

command=$1

if [ -z "$command" ]; then
  echo "Usage: any <command>" >&2
  echo "  Commands:" >&2
  echo "    deploy" >&2
  echo "    home" >&2
  echo "    setup" >&2
  echo "    start" >&2
  echo "    undeploy" >&2
  exit 1
fi

if [ "$command" = "deploy" ]; then
  shift
  any-deploy "$@"
elif [ "$command" = "home" ]; then
  (
    cd $(dirname "${BASH_SOURCE[0]}")
    cd ..
    pwd
  )
elif [ "$command" = "start" ]; then
  shift
  any-start "$@"
elif [ "$command" = "undeploy" ]; then
  shift
  any-undeploy "$@"
else
  echo "Unknown command: $command" >&2
  exit 1
fi
